<?xml version="1.0"?>
<!DOCTYPE database SYSTEM "http://db.apache.org/torque/dtd/database_3_1.dtd">
<!-- Autogenerated by JDBCToXMLSchema! -->
<database name="SERTECA-DB" defaultIdMethod="native">
   <table name="Clientes" idMethod="native" javaName="Cliente">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="id" />
        <id-method-parameter name="seqName" value="Clientes_id_seq" />
        <column name="nombre" required="true" size="50" type="VARCHAR" javaName="Nombre" default="" />
        <column name="nombrecomercial" required="false" size="50" type="VARCHAR" javaName="NombreComercial" default="" />
        <column name="razonsocial" required="false" size="50" type="VARCHAR" javaName="RazonSocial" default="" />
        <column name="nif" required="true" size="10" type="VARCHAR" javaName="Nif" default="" />
        <column name="direccion" size="50" type="VARCHAR" javaName="Direccion" required="false" />
        <column name="localidad_id" required="true" type="INTEGER" default="-1" />
        <column name="cp" size="5" type="VARCHAR" javaName="Cp" required="false" />
        <column name="telefono" size="10" type="VARCHAR" javaName="Tlfno" required="false" />
        <column name="movil" size="10" type="VARCHAR" javaName="Movil" required="false" />
        <column name="fax" size="10" type="VARCHAR" javaName="Fax" required="false" />
        <column name="email" size="75" type="VARCHAR" javaName="Email" required="false" />
	    <column name="forma_pago_id" type="INTEGER" required="true" default="-1" />
	    <column name="numero_cuenta" size="20" type="VARCHAR" default="00000000000000000000" />
	    <column name="dto_pronto_pago" type="INTEGER" javaName="DtoProntoPago" required="false" default="0" />
	    <column name="dia_pago" type="INTEGER" javaName="DiaPago" required="true" default="15" />
        <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
        <foreign-key foreignTable="Localidades">
            <reference foreign="id" local="localidad_id" />
        </foreign-key>
    	<foreign-key foreignTable="Formas_Pago">
            <reference foreign="id" local="forma_pago_id" />
        </foreign-key>
    </table>

    <table name="Localidades" idMethod="native" javaName="Localidad">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
       <id-method-parameter name="seqName" value="Localidades_id_seq" />
        <column name="provincia_id" required="true" type="INTEGER" default="-1" javaName="ProvinciaId" />
        <column name="nombre" required="true" size="75" type="VARCHAR" default="" javaName="Nombre" />
        <foreign-key foreignTable="Provincias">
            <reference foreign="id" local="provincia_id" />
        </foreign-key>
    </table>

    <table name="Provincias" idMethod="native" javaName="Provincia">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
        <id-method-parameter name="seqName" value="Provincias_id_seq" />    
        <column name="nombre" required="true" size="75" type="VARCHAR" default="" javaName="Nombre" />
   </table>

   <table name="Vehiculos" idMethod="native" javaName="Vehiculo">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
        <id-method-parameter name="seqName" value="Vehiculos_id_seq" />
	<column name="modelo_id" required="false" type="INTEGER" javaName="ModeloId" />
        <foreign-key foreignTable="Modelos">
            <reference foreign="id" local="modelo_id" />
        </foreign-key>
	<column name="version" required="true" size="75" type="VARCHAR" default="" javaName="Version" />
	<column name="matricula" required="true" size="8" type="VARCHAR" default="" javaName="Matricula" />
	<column name="cliente_id" required="false" type="INTEGER" javaName="ClienteId" />
	<foreign-key foreignTable="Clientes">
            <reference foreign="id" local="cliente_id" />
        </foreign-key>
	<column name="chasis_id" required="false" size="20" type="VARCHAR" javaName="ChasisId" />
	<column name="motor_id" required="false" size="20" type="VARCHAR" javaName="MotorId" />
	<column name="color" required="false" size="20" type="VARCHAR" javaName="Color" />
	<column name="fecha_matriculacion" required="false" size="8" type="VARCHAR" javaName="FechaMatriculacion" />
	<column name="fecha_revision" required="false" size="8" type="VARCHAR" javaName="FechaRevision" />
    <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
   </table>

   <table name="Modelos" idMethod="native" javaName="Modelo">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
        <id-method-parameter name="seqName" value="Modelos_id_seq" />
	<column name="nombre" required="true" size="75" type="VARCHAR" default="" javaName="Nombre" />
	<column name="marca_id" required="true" type="INTEGER" javaName="MarcaId" />
        <foreign-key foreignTable="Marcas">
            <reference foreign="id" local="marca_id" />
        </foreign-key>
   </table>
   
   <table name="Formas_Pago" idMethod="native" javaName="FormaPago">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
      <id-method-parameter name="seqName" value="Formas_Pago_id_seq" />
      <column name="nombre" required="true" size="75" type="VARCHAR" default="" javaName="Nombre" />
   </table>
   
   <table name="Marcas" idMethod="native" javaName="Marca">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
      <id-method-parameter name="seqName" value="Marcas_id_seq" />
      <column name="nombre" required="true" size="75" type="VARCHAR" default="" javaName="Nombre" />
    </table>

   <table name="Reparaciones" idMethod="native" javaName="Reparacion">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
      <id-method-parameter name="seqName" value="Reparaciones_id_seq" />
      <column name="Km" required="false" type="INTEGER" javaName="Km" default="0"/>
 	  <column name="deposito" required="false" size="75" type="VARCHAR" default="" javaName="Deposito" />
      <column name="fecha_entrada" required="false" size="8" type="VARCHAR" javaName="FechaEntrada" />
      <column name="fecha_salida" required="false" size="8" type="VARCHAR" javaName="FechaSalida" />
      <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
      <column name="estadoprevio" size="500" type="VARCHAR" javaName="EstadoPrevio" required="false" />
      <column name="responsable" required="false" size="255" type="VARCHAR" javaName="Responsable" />
      <column name="vehiculo_id" required="true" type="INTEGER" javaName="VehiculoId" />            
        <foreign-key foreignTable="Vehiculos">
            <reference foreign="id" local="vehiculo_id" />
        </foreign-key>      
	  <column name="importe" type="FLOAT" javaName="Importe" required="false" default="0" />
      <column name="estado" required="true" type="INTEGER" javaName="Estado" default="0" description="Si esta en presupuesto, en proceso, finalizada, facturada" />            	
   </table>
   <table name="Ordenes_Trabajo" idMethod="native" javaName="OrdenTrabajo">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
      <id-method-parameter name="seqName" value="Ordenes_Trabajo_id_seq" />
      <column name="fecha_entrada" required="false" size="8" type="VARCHAR" javaName="FechaEntrada" />
      <column name="fecha_salida" required="false" size="8" type="VARCHAR" javaName="FechaSalida" />
      <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
      <column name="reparacion_id" required="true" type="INTEGER" javaName="ReparacionId" />      
        <foreign-key foreignTable="Reparaciones">
            <reference foreign="id" local="reparacion_id" />
        </foreign-key>      
      <column name="importe" type="FLOAT" javaName="Importe" required="false" default="0" />
      <column name="tipo" required="true" type="INTEGER" javaName="Tipo" default="0" />
      <column name="responsable_id" required="true" type="INTEGER" javaName="ResponsableId" />      
        <foreign-key foreignTable="Trabajadores">
            <reference foreign="id" local="responsable_id" />
        </foreign-key>
      <column name="horas" required="true" type="FLOAT" javaName="Horas" default="0"/>
      <column name="descripcion" size="500" type="VARCHAR" javaName="Descripcion" required="false" description="descripcion de la tarea a realizar, piezas utilizadas, etc" />
   </table>   
    <table name="Categorias" idMethod="native" javaName="Categoria">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
        <id-method-parameter name="seqName" value="Categorias_id_seq" />    
        <column name="nombre" required="true" size="300" type="VARCHAR" default="" javaName="Nombre" />
   </table>
    <table name="Trabajadores" idMethod="native" javaName="Trabajador">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
      <id-method-parameter name="seqName" value="Trabajadores_id_seq" />
      <column name="numero" required="false" size="10" type="VARCHAR" javaName="Numero" />
      <column name="fecha_alta" required="false" size="8" type="VARCHAR" javaName="FechaAlta" />
      <column name="fecha_baja" required="false" size="8" type="VARCHAR" javaName="FechaBaja" />
      <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
      <column name="nombre" size="125" type="VARCHAR" javaName="Nombre" required="false" />
      <column name="apellidos" size="255" type="VARCHAR" javaName="Apellidos" required="false" />
      <column name="apellidosDos" size="255" type="VARCHAR" javaName="ApellidosDos" required="false" />
      <column name="cif" size="10" type="VARCHAR" javaName="Cif" required="false" />
      <column name="costehora" required="true" type="FLOAT" javaName="CosteHora" default="0" />
      <column name="direccion" size="50" type="VARCHAR" javaName="Direccion" required="false" />
      <column name="localidad_id" required="true" type="INTEGER" default="-1" />
      <column name="cp" size="5" type="VARCHAR" javaName="Cp" required="false" />
      <column name="telefono" size="10" type="VARCHAR" javaName="Tlfno" required="false" />
      <column name="movil" size="10" type="VARCHAR" javaName="Movil" required="false" />
      <column name="email" size="75" type="VARCHAR" javaName="Email" required="false" />
      <column name="categoria_id" required="false" type="INTEGER" javaName="CategoriaId" />
      <foreign-key foreignTable="Localidades">
          <reference foreign="id" local="localidad_id" />
      </foreign-key>
      <foreign-key foreignTable="Categorias">
            <reference foreign="id" local="categoria_id" />
      </foreign-key>
   </table>
   <table name="Facturas" idMethod="native">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
      <id-method-parameter name="seqName" value="Facturas_id_seq" />
      <column name="fecha" required="false" size="8" type="VARCHAR" javaName="FechaIni" />
      <column name="importe" type="FLOAT" javaname="Importe" required="false" default="0" />
      <column name="estado" required="true" type="INTEGER" javaname="Estado" default="0" />
      <column name="descripcion" size="500" type="VARCHAR" javaname="Descripcion" required="false" />
      <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
      <column name="cliente_id" required="false" type="INTEGER" javaName="ClienteId" />
      <foreign-key foreignTable="Clientes">
            <reference foreign="id" local="cliente_id" />
      </foreign-key>
      <column name="reparacion_id" required="false" type="INTEGER" javaName="ReparacionId" />
      <foreign-key foreignTable="Reparaciones">
            <reference foreign="id" local="reparacion_id" />
      </foreign-key>
   </table>   
   <table name="Lineas_Factura" idMethod="native" javaName="LineaFactura">
      <column autoIncrement="true" default="-1" name="id" primaryKey="true" type="INTEGER" javaName="Id" required="true" />
      <id-method-parameter name="seqName" value="Lineas_Factura_id_seq" />
      <column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
      <column name="factura_id" required="true" type="INTEGER" javaName="FacturaId" />
      <foreign-key foreignTable="Facturas">
         <reference foreign="id" local="factura_id" />
      </foreign-key>
      <column name="importe" type="FLOAT" javaName="Importe" required="false" default="0" />
      <column name="unidades" type="FLOAT" javaName="Unidades" required="false" default="0" />
      <column name="dto" type="FLOAT" javaName="Dto" required="false" default="0" />	
      <column name="descripcion" size="500" type="VARCHAR" javaName="Descripcion" required="false" description="descripcion de la tarea a realizar, piezas utilizadas, etc" />
   </table>

   <table name="Vehiculos_Cortesia" idMethod="native" javaName="VehiculoCortesia">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
        <id-method-parameter name="seqName" value="Vehiculos_Cortesia_id_seq" />
	<column name="modelo_id" required="false" type="INTEGER" javaName="ModeloId" />
        <foreign-key foreignTable="Modelos">
            <reference foreign="id" local="modelo_id" />
        </foreign-key>
	<column name="chasis_id" required="false" size="20" type="VARCHAR" javaName="ChasisId" />
	<column name="version" required="true" size="75" type="VARCHAR" default="" javaName="Version" />
	<column name="matricula" required="true" size="10" type="VARCHAR" default="" javaName="Matricula" />
	<column name="color" required="false" size="20" type="VARCHAR" javaName="Color" />
	<column name="observacion" size="500" type="VARCHAR" javaName="Obs" required="false" />
	<column name="estado" required="false" type="INTEGER" javaName="Estado" default="0" />
   </table>

   <table name="Prestamos" idMethod="native" javaName="Prestamo">
        <column autoIncrement="true" default="-1" name="id" primaryKey="true" required="true" type="INTEGER" javaName="Id" />
        <id-method-parameter name="seqName" value="Prestamos_id_seq" />
	<column name="vehiculo_cortesia_id" required="false" type="INTEGER" javaName="VehiculoCortesiaId" />
        <foreign-key foreignTable="Vehiculos_Cortesia">
            <reference foreign="id" local="vehiculo_cortesia_id" />
        </foreign-key>
	<column name="reparacion_id" required="false" type="INTEGER" javaName="ReparacionId" />
	<foreign-key foreignTable="Reparaciones">
            <reference foreign="id" local="reparacion_id" />
        </foreign-key>
	<column name="estado_previo" size="500" type="VARCHAR" javaName="EstadoPrevio" required="false" />
	<column name="estado_entrega" size="500" type="VARCHAR" javaName="EstadoEntrega" required="false" />
	<column name="fecha_ini" required="false" size="8" type="VARCHAR" javaName="FechaIni" />
    <column name="fecha_fin" required="false" size="8" type="VARCHAR" javaName="FechaFin" />
	<column name="hora_ini" required="false" size="4" type="VARCHAR" javaName="HoraIni" />
    <column name="hora_fin" required="false" size="4" type="VARCHAR" javaName="HoraFin" />
   </table>
</database>
